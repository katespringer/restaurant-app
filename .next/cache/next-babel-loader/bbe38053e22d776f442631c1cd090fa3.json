{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\keskt\\\\restaurant-app\\\\pages\\\\login.js\",\n    _s = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* /pages/login.js */\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { useRouter } from \"next/router\";\nimport { Container, Row, Col, Button, Form, FormGroup, Label, Input } from \"reactstrap\";\nimport { login } from \"../components/auth\";\nimport AppContext from \"../components/context\"; // import {MyApp} from \"./_app\";\n\nfunction Login(props) {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState({\n    identifier: \"\",\n    password: \"\"\n  }),\n      data = _useState[0],\n      updateData = _useState[1];\n\n  var _useState2 = useState(false),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState(false),\n      error = _useState3[0],\n      setError = _useState3[1];\n\n  var router = useRouter(); // const appContext = useContext(MyApp);\n\n  var appContext = useContext(AppContext); // const {user, setUser, isAuthenticated} = useContext(AppContext);\n\n  useEffect(function () {\n    if (appContext.isAuthenticated) {\n      router.push(\"/\"); // redirect if you're already logged in\n    }\n  }, []);\n\n  function _onChange(event) {\n    updateData(_objectSpread(_objectSpread({}, data), {}, _defineProperty({}, event.target.name, event.target.value)));\n  }\n\n  return __jsx(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, __jsx(Col, {\n    sm: \"12\",\n    md: {\n      size: 5,\n      offset: 3\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-555667689\" + \" \" + \"paper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-555667689\" + \" \" + \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, __jsx(\"img\", {\n    src: \"\".concat(process.env.NEXT_PUBLIC_API_URL, \"/uploads/75d0162b3b3e437aaa8953ca56a0d1dc.jpg\"),\n    className: \"jsx-555667689\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 15\n    }\n  })), __jsx(\"section\", {\n    className: \"jsx-555667689\" + \" \" + \"wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, Object.entries(error).length !== 0 && error.constructor === Object && error.message.map(function (error) {\n    return __jsx(\"div\", {\n      key: error.messages[0].id,\n      style: {\n        marginBottom: 10\n      },\n      className: \"jsx-555667689\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }\n    }, __jsx(\"small\", {\n      style: {\n        color: \"red\"\n      },\n      className: \"jsx-555667689\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 23\n      }\n    }, error.messages[0].message));\n  }), __jsx(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }\n  }, __jsx(\"fieldset\", {\n    disabled: loading,\n    className: \"jsx-555667689\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, __jsx(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 19\n    }\n  }, __jsx(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  }, \"Email:\"), __jsx(Input, {\n    onChange: function onChange(event) {\n      return _onChange(event);\n    },\n    name: \"identifier\",\n    style: {\n      height: 50,\n      fontSize: \"1.2em\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  })), __jsx(FormGroup, {\n    style: {\n      marginBottom: 30\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 19\n    }\n  }, __jsx(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, \"Password:\"), __jsx(Input, {\n    onChange: function onChange(event) {\n      return _onChange(event);\n    },\n    type: \"password\",\n    name: \"password\",\n    style: {\n      height: 50,\n      fontSize: \"1.2em\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  })), __jsx(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 19\n    }\n  }, __jsx(\"span\", {\n    className: \"jsx-555667689\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }, __jsx(\"a\", {\n    href: \"\",\n    className: \"jsx-555667689\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 23\n    }\n  }, __jsx(\"small\", {\n    className: \"jsx-555667689\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 25\n    }\n  }, \"Forgot Password?\"))), __jsx(Button, {\n    style: {\n      \"float\": \"right\",\n      width: 120\n    },\n    color: \"primary\",\n    onClick: function onClick() {\n      setLoading(true);\n      login(data.identifier, data.password).then(function (res) {\n        setLoading(false); // set authed User in global context to update header/app state\n\n        appContext.setUser(res.data.user);\n      })[\"catch\"](function (error) {\n        //setError(error.response.data);\n        setLoading(false);\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }, loading ? \"Loading... \" : \"Submit\")))))))), __jsx(_JSXStyle, {\n    id: \"555667689\",\n    __self: this\n  }, \".paper.jsx-555667689{border:1px solid lightgray;box-shadow:0px 1px 3px 0px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 2px 1px -1px rgba(0,0,0,0.12);border-radius:6px;margin-top:90px;}.notification.jsx-555667689{color:#ab003c;}.header.jsx-555667689{width:100%;height:200px;background-color:#2196f3;margin-bottom:30px;border-radius-top:6px;text-align:center;}.wrapper.jsx-555667689{padding:10px 30px 20px 30px !important;}a.jsx-555667689{color:blue !important;}img.jsx-555667689{margin:15px 50px 10px 50px;height:90%;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xca2Vza3RcXHJlc3RhdXJhbnQtYXBwXFxwYWdlc1xcbG9naW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBa0hTLEFBR3dDLEFBUWIsQUFHSCxBQVE0QixBQUdqQixBQUdLLFdBYmQsR0FIZixRQWNBLEVBVjJCLEdBVmEsQUF1QjVCLFdBQ1osQ0FQQSxVQU5xQixtQkFDRyxzQkFDSixrQkFDcEIsK0JBYm9CLGtCQUNGLGdCQUNsQiIsImZpbGUiOiJDOlxcVXNlcnNcXGtlc2t0XFxyZXN0YXVyYW50LWFwcFxccGFnZXNcXGxvZ2luLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogL3BhZ2VzL2xvZ2luLmpzICovXHJcblxyXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ29udGV4dCB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tIFwibmV4dC9yb3V0ZXJcIjtcclxuaW1wb3J0IHtcclxuICBDb250YWluZXIsXHJcbiAgUm93LFxyXG4gIENvbCxcclxuICBCdXR0b24sXHJcbiAgRm9ybSxcclxuICBGb3JtR3JvdXAsXHJcbiAgTGFiZWwsXHJcbiAgSW5wdXQsXHJcbn0gZnJvbSBcInJlYWN0c3RyYXBcIjtcclxuaW1wb3J0IHsgbG9naW4gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9hdXRoXCI7XHJcbmltcG9ydCBBcHBDb250ZXh0IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbnRleHRcIjtcclxuLy8gaW1wb3J0IHtNeUFwcH0gZnJvbSBcIi4vX2FwcFwiO1xyXG5cclxuZnVuY3Rpb24gTG9naW4ocHJvcHMpIHtcclxuICBjb25zdCBbZGF0YSwgdXBkYXRlRGF0YV0gPSB1c2VTdGF0ZSh7IGlkZW50aWZpZXI6IFwiXCIsIHBhc3N3b3JkOiBcIlwiIH0pO1xyXG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcclxuICAvLyBjb25zdCBhcHBDb250ZXh0ID0gdXNlQ29udGV4dChNeUFwcCk7XHJcbiAgY29uc3QgYXBwQ29udGV4dCA9IHVzZUNvbnRleHQoQXBwQ29udGV4dCk7XHJcbiAgLy8gY29uc3Qge3VzZXIsIHNldFVzZXIsIGlzQXV0aGVudGljYXRlZH0gPSB1c2VDb250ZXh0KEFwcENvbnRleHQpO1xyXG4gIFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoYXBwQ29udGV4dC5pc0F1dGhlbnRpY2F0ZWQpIHtcclxuICAgICAgcm91dGVyLnB1c2goXCIvXCIpOyAvLyByZWRpcmVjdCBpZiB5b3UncmUgYWxyZWFkeSBsb2dnZWQgaW5cclxuICAgIH1cclxuICB9LCBbXSk7XHJcblxyXG4gIGZ1bmN0aW9uIG9uQ2hhbmdlKGV2ZW50KSB7XHJcbiAgICB1cGRhdGVEYXRhKHsgLi4uZGF0YSwgW2V2ZW50LnRhcmdldC5uYW1lXTogZXZlbnQudGFyZ2V0LnZhbHVlIH0pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxDb250YWluZXI+XHJcbiAgICAgIDxSb3c+XHJcbiAgICAgICAgPENvbCBzbT1cIjEyXCIgbWQ9e3sgc2l6ZTogNSwgb2Zmc2V0OiAzIH19PlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYXBlclwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhlYWRlclwiPlxyXG4gICAgICAgICAgICAgIDxpbWcgc3JjPXtgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMfS91cGxvYWRzLzc1ZDAxNjJiM2IzZTQzN2FhYTg5NTNjYTU2YTBkMWRjLmpwZ2B9IC8+XHJcbiAgICAgICAgICAgICAgey8qIDxpbWcgc3JjPVwiaHR0cDovL2xvY2FsaG9zdDoxMzM3L3VwbG9hZHMvNzVkMDE2MmIzYjNlNDM3YWFhODk1M2NhNTZhMGQxZGMuanBnXCIgLz4gKi99XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJ3cmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAge09iamVjdC5lbnRyaWVzKGVycm9yKS5sZW5ndGggIT09IDAgJiZcclxuICAgICAgICAgICAgICAgIGVycm9yLmNvbnN0cnVjdG9yID09PSBPYmplY3QgJiZcclxuICAgICAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UubWFwKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgIGtleT17ZXJyb3IubWVzc2FnZXNbMF0uaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5Cb3R0b206IDEwIH19XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHNtYWxsIHN0eWxlPXt7IGNvbG9yOiBcInJlZFwiIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZXJyb3IubWVzc2FnZXNbMF0ubWVzc2FnZX1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvc21hbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9KX1cclxuICAgICAgICAgICAgICA8Rm9ybT5cclxuICAgICAgICAgICAgICAgIDxmaWVsZHNldCBkaXNhYmxlZD17bG9hZGluZ30+XHJcbiAgICAgICAgICAgICAgICAgIDxGb3JtR3JvdXA+XHJcbiAgICAgICAgICAgICAgICAgICAgPExhYmVsPkVtYWlsOjwvTGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgPElucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGV2ZW50KSA9PiBvbkNoYW5nZShldmVudCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiaWRlbnRpZmllclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBoZWlnaHQ6IDUwLCBmb250U2l6ZTogXCIxLjJlbVwiIH19XHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XHJcbiAgICAgICAgICAgICAgICAgIDxGb3JtR3JvdXAgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAzMCB9fT5cclxuICAgICAgICAgICAgICAgICAgICA8TGFiZWw+UGFzc3dvcmQ6PC9MYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICA8SW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZXZlbnQpID0+IG9uQ2hhbmdlKGV2ZW50KX1cclxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwYXNzd29yZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwicGFzc3dvcmRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgaGVpZ2h0OiA1MCwgZm9udFNpemU6IFwiMS4yZW1cIiB9fVxyXG4gICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxyXG5cclxuICAgICAgICAgICAgICAgICAgPEZvcm1Hcm91cD5cclxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNtYWxsPkZvcmdvdCBQYXNzd29yZD88L3NtYWxsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmbG9hdDogXCJyaWdodFwiLCB3aWR0aDogMTIwIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb2xvcj1cInByaW1hcnlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRMb2FkaW5nKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dpbihkYXRhLmlkZW50aWZpZXIsIGRhdGEucGFzc3dvcmQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXQgYXV0aGVkIFVzZXIgaW4gZ2xvYmFsIGNvbnRleHQgdG8gdXBkYXRlIGhlYWRlci9hcHAgc3RhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcENvbnRleHQuc2V0VXNlcihyZXMuZGF0YS51c2VyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vc2V0RXJyb3IoZXJyb3IucmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAge2xvYWRpbmcgPyBcIkxvYWRpbmcuLi4gXCIgOiBcIlN1Ym1pdFwifVxyXG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cclxuICAgICAgICAgICAgICAgIDwvZmllbGRzZXQ+XHJcbiAgICAgICAgICAgICAgPC9Gb3JtPlxyXG4gICAgICAgICAgICA8L3NlY3Rpb24+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L0NvbD5cclxuICAgICAgPC9Sb3c+XHJcbiAgICAgIDxzdHlsZSBqc3g+XHJcbiAgICAgICAge2BcclxuICAgICAgICAgIC5wYXBlciB7XHJcbiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGxpZ2h0Z3JheTtcclxuICAgICAgICAgICAgYm94LXNoYWRvdzogMHB4IDFweCAzcHggMHB4IHJnYmEoMCwgMCwgMCwgMC4yKSxcclxuICAgICAgICAgICAgICAwcHggMXB4IDFweCAwcHggcmdiYSgwLCAwLCAwLCAwLjE0KSxcclxuICAgICAgICAgICAgICAwcHggMnB4IDFweCAtMXB4IHJnYmEoMCwgMCwgMCwgMC4xMik7XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcclxuICAgICAgICAgICAgbWFyZ2luLXRvcDogOTBweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5ub3RpZmljYXRpb24ge1xyXG4gICAgICAgICAgICBjb2xvcjogI2FiMDAzYztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5oZWFkZXIge1xyXG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgICAgaGVpZ2h0OiAyMDBweDtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzIxOTZmMztcclxuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMzBweDtcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1cy10b3A6IDZweDtcclxuICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLndyYXBwZXIge1xyXG4gICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDMwcHggMjBweCAzMHB4ICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBhIHtcclxuICAgICAgICAgICAgY29sb3I6IGJsdWUgIWltcG9ydGFudDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGltZyB7XHJcbiAgICAgICAgICAgIG1hcmdpbjogMTVweCA1MHB4IDEwcHggNTBweDtcclxuICAgICAgICAgICAgaGVpZ2h0OjkwJTtcclxuICAgICAgICAgIH1cclxuICAgICAgICBgfVxyXG4gICAgICA8L3N0eWxlPlxyXG4gICAgPC9Db250YWluZXI+XHJcbiAgKTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTG9naW47Il19 */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\keskt\\\\\\\\restaurant-app\\\\\\\\pages\\\\\\\\login.js */\"));\n}\n\n_s(Login, \"IjF++1o97NpQVVWCTD4JX3a/TOA=\", false, function () {\n  return [useRouter];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/keskt/restaurant-app/pages/login.js"],"names":["React","useState","useEffect","useContext","useRouter","Container","Row","Col","Button","Form","FormGroup","Label","Input","login","AppContext","Login","props","identifier","password","data","updateData","loading","setLoading","error","setError","router","appContext","isAuthenticated","push","onChange","event","target","name","value","size","offset","process","env","NEXT_PUBLIC_API_URL","Object","entries","length","constructor","message","map","messages","id","marginBottom","color","height","fontSize","width","then","res","setUser","user"],"mappings":"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","sourcesContent":["/* /pages/login.js */\r\n\r\nimport React, { useState, useEffect, useContext } from \"react\";\r\nimport { useRouter } from \"next/router\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Form,\r\n  FormGroup,\r\n  Label,\r\n  Input,\r\n} from \"reactstrap\";\r\nimport { login } from \"../components/auth\";\r\nimport AppContext from \"../components/context\";\r\n// import {MyApp} from \"./_app\";\r\n\r\nfunction Login(props) {\r\n  const [data, updateData] = useState({ identifier: \"\", password: \"\" });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(false);\r\n  const router = useRouter();\r\n  // const appContext = useContext(MyApp);\r\n  const appContext = useContext(AppContext);\r\n  // const {user, setUser, isAuthenticated} = useContext(AppContext);\r\n  \r\n  useEffect(() => {\r\n    if (appContext.isAuthenticated) {\r\n      router.push(\"/\"); // redirect if you're already logged in\r\n    }\r\n  }, []);\r\n\r\n  function onChange(event) {\r\n    updateData({ ...data, [event.target.name]: event.target.value });\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Row>\r\n        <Col sm=\"12\" md={{ size: 5, offset: 3 }}>\r\n          <div className=\"paper\">\r\n            <div className=\"header\">\r\n              <img src={`${process.env.NEXT_PUBLIC_API_URL}/uploads/75d0162b3b3e437aaa8953ca56a0d1dc.jpg`} />\r\n              {/* <img src=\"http://localhost:1337/uploads/75d0162b3b3e437aaa8953ca56a0d1dc.jpg\" /> */}\r\n            </div>\r\n            <section className=\"wrapper\">\r\n              {Object.entries(error).length !== 0 &&\r\n                error.constructor === Object &&\r\n                error.message.map((error) => {\r\n                  return (\r\n                    <div\r\n                      key={error.messages[0].id}\r\n                      style={{ marginBottom: 10 }}\r\n                    >\r\n                      <small style={{ color: \"red\" }}>\r\n                        {error.messages[0].message}\r\n                      </small>\r\n                    </div>\r\n                  );\r\n                })}\r\n              <Form>\r\n                <fieldset disabled={loading}>\r\n                  <FormGroup>\r\n                    <Label>Email:</Label>\r\n                    <Input\r\n                      onChange={(event) => onChange(event)}\r\n                      name=\"identifier\"\r\n                      style={{ height: 50, fontSize: \"1.2em\" }}\r\n                    />\r\n                  </FormGroup>\r\n                  <FormGroup style={{ marginBottom: 30 }}>\r\n                    <Label>Password:</Label>\r\n                    <Input\r\n                      onChange={(event) => onChange(event)}\r\n                      type=\"password\"\r\n                      name=\"password\"\r\n                      style={{ height: 50, fontSize: \"1.2em\" }}\r\n                    />\r\n                  </FormGroup>\r\n\r\n                  <FormGroup>\r\n                    <span>\r\n                      <a href=\"\">\r\n                        <small>Forgot Password?</small>\r\n                      </a>\r\n                    </span>\r\n                    <Button\r\n                      style={{ float: \"right\", width: 120 }}\r\n                      color=\"primary\"\r\n                      onClick={() => {\r\n                        setLoading(true);\r\n                        login(data.identifier, data.password)\r\n                          .then((res) => {\r\n                            setLoading(false);\r\n                            // set authed User in global context to update header/app state\r\n                            appContext.setUser(res.data.user);\r\n                          })\r\n                          .catch((error) => {\r\n                            //setError(error.response.data);\r\n                            setLoading(false);\r\n                          });\r\n                      }}\r\n                    >\r\n                      {loading ? \"Loading... \" : \"Submit\"}\r\n                    </Button>\r\n                  </FormGroup>\r\n                </fieldset>\r\n              </Form>\r\n            </section>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n      <style jsx>\r\n        {`\r\n          .paper {\r\n            border: 1px solid lightgray;\r\n            box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\r\n              0px 1px 1px 0px rgba(0, 0, 0, 0.14),\r\n              0px 2px 1px -1px rgba(0, 0, 0, 0.12);\r\n            border-radius: 6px;\r\n            margin-top: 90px;\r\n          }\r\n          .notification {\r\n            color: #ab003c;\r\n          }\r\n          .header {\r\n            width: 100%;\r\n            height: 200px;\r\n            background-color: #2196f3;\r\n            margin-bottom: 30px;\r\n            border-radius-top: 6px;\r\n            text-align: center;\r\n          }\r\n          .wrapper {\r\n            padding: 10px 30px 20px 30px !important;\r\n          }\r\n          a {\r\n            color: blue !important;\r\n          }\r\n          img {\r\n            margin: 15px 50px 10px 50px;\r\n            height:90%;\r\n          }\r\n        `}\r\n      </style>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}